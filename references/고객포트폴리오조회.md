## 고객 포트폴리오 조회 방법

module server(url: 172.17.4.53:8150)의 /api/mu800 엔드포인트로 호출하면 알 수 있음
스키마는 다음과 같음 (pydantic)

class MU800Request(BaseModel):
    customer_no: str = Field(..., description="고객번호", examples = ["105466942"])
    target_type = list[str] = Field(default_factory = list, description = "조회유형", examples = ["stock", "country", "sector"])
    top_n = int | None = Field(default = None, description="조회 개수", examples=[10])

class MU800Response(BaseModel):
    portfolio_info: list[dict[str, Any]] = Field(default_factory=list)
    country_weight: dict[str, float] = Field(default_factory=list)
    sector_weight: dict[str, float] = Field(default_factory=list)

고객번호(customer_no)는 mongodb.user에 있는 값임



## 예시

Request body
{"customer_no": "1054266942", "target_type":["stock"], "top_n": 1} # 예시를 위해 한개만 호출함

Response body
{
    "portfolio_info":[
        {"kor_name": "엔비디아",
        "country_code: "미국",
        "sector": 기술,
        "quantity":223,
        "evaluation_amount": 56594851,
        "weights":0.2782280010901827},
        {"kor_name": "기타", # top_n 종목 제외하면 기타로 aggregate 됨
        "country_code": "",
        "sector": "",
        "quantity: "",
        "evaluation_amount": 146816922,
        "weights": 0.7217719998909172}
    ],
    "country_weight":{
        "한국": 0.6186856500188905,
        "미국": 0.3813143499811095
    },
    "sector_weight":{
        "기술": 0.685751223565747,
        "소비자 필수재: 0.024939559422649543,
        "비에너지 재료": 0.02426113261399083,
        "기타" 0.37060324763011628
    }
}